# í…œí”Œë¦¿-íŒ¨í„´

## ê°œë…
í…œí”Œë¦¿ ë©”ì†Œë“œ íŒ¨í„´ì€ ìƒìœ„ í´ë˜ìŠ¤ì—ì„œ ì•Œê³ ë¦¬ì¦˜ì˜ êµ¬ì¡°ë¥¼ ì •ì˜í•˜ê³ , í•˜ìœ„ í´ë˜ìŠ¤ì—ì„œ ì•Œê³ ë¦¬ì¦˜ì˜ íŠ¹ì • ë‹¨ê³„ë“¤ì„ êµ¬í˜„í•˜ë„ë¡ í•˜ëŠ” í–‰ë™ íŒ¨í„´ì…ë‹ˆë‹¤. ì „ì²´ì ì¸ ì•Œê³ ë¦¬ì¦˜ì˜ êµ¬ì¡°ëŠ” ìœ ì§€í•˜ë©´ì„œ íŠ¹ì • ë‹¨ê³„ë§Œ ì„œë¸Œí´ë˜ìŠ¤ì—ì„œ ì¬ì •ì˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## ì–¸ì œ ì‚¬ìš©í•˜ë©´ íš¨ê³¼ì ì¸ê°€?
- ì—¬ëŸ¬ í´ë˜ìŠ¤ì—ì„œ ê³µí†µëœ ì•Œê³ ë¦¬ì¦˜ì„ ì‚¬ìš©í•˜ì§€ë§Œ ì¼ë¶€ ë‹¨ê³„ë§Œ ë‹¤ë¥¼ ë•Œ
- ì•Œê³ ë¦¬ì¦˜ì˜ êµ¬ì¡°ëŠ” ê³ ì •í•˜ê³  íŠ¹ì • ë‹¨ê³„ë§Œ ë³€ê²½í•˜ê³  ì‹¶ì„ ë•Œ
- ì½”ë“œ ì¤‘ë³µì„ ì œê±°í•˜ê³  ê³µí†µ ë¡œì§ì„ ìƒìœ„ í´ë˜ìŠ¤ë¡œ ì¶”ì¶œí•˜ê³  ì‹¶ì„ ë•Œ
- í”„ë ˆì„ì›Œí¬ì—ì„œ í™•ì¥ í¬ì¸íŠ¸ë¥¼ ì œê³µí•˜ê³  ì‹¶ì„ ë•Œ
- Hook ë©”ì†Œë“œë¥¼ í†µí•´ ì„ íƒì ì¸ ë‹¨ê³„ë¥¼ ì œê³µí•˜ê³  ì‹¶ì„ ë•Œ

## ì¥ì 
- **ì½”ë“œ ì¬ì‚¬ìš©**: ê³µí†µëœ ì•Œê³ ë¦¬ì¦˜ì„ ìƒìœ„ í´ë˜ìŠ¤ì—ì„œ í•œ ë²ˆë§Œ ì •ì˜
- **ì œì–´ì˜ ì—­ì „**: ìƒìœ„ í´ë˜ìŠ¤ê°€ ì•Œê³ ë¦¬ì¦˜ì˜ íë¦„ì„ ì œì–´
- **í™•ì¥ì„±**: ìƒˆë¡œìš´ êµ¬í˜„ì²´ë¥¼ ì‰½ê²Œ ì¶”ê°€í•  ìˆ˜ ìˆìŒ
- **ìœ ì§€ë³´ìˆ˜ì„±**: ì•Œê³ ë¦¬ì¦˜ì˜ êµ¬ì¡° ë³€ê²½ ì‹œ ìƒìœ„ í´ë˜ìŠ¤ë§Œ ìˆ˜ì •í•˜ë©´ ë¨

## ì£¼ì˜í•´ì•¼ í•  ì 
- ìƒì†ì„ ê¸°ë°˜ìœ¼ë¡œ í•˜ë¯€ë¡œ ê²°í•©ë„ê°€ ë†’ì„ ìˆ˜ ìˆìŒ
- ì•Œê³ ë¦¬ì¦˜ì´ ë³µì¡í•´ì§ˆìˆ˜ë¡ í…œí”Œë¦¿ ë©”ì†Œë“œë„ ë³µì¡í•´ì§
- ë¦¬ìŠ¤ì½”í”„ ì¹˜í™˜ ì›ì¹™ì„ ìœ„ë°˜í•  ìœ„í—˜ì„±
- ë„ˆë¬´ ë§ì€ ì¶”ìƒ ë©”ì†Œë“œê°€ ìˆìœ¼ë©´ êµ¬í˜„ì´ ë³µì¡í•´ì§

## ìë°” ì˜ˆì‹œ ì½”ë“œ

### 1. ë°ì´í„° ì²˜ë¦¬ íŒŒì´í”„ë¼ì¸ ì˜ˆì‹œ
```java
import java.util.*;

// ì¶”ìƒ í´ë˜ìŠ¤ - í…œí”Œë¦¿ ë©”ì†Œë“œ ì •ì˜
abstract class DataProcessor {
    
    // í…œí”Œë¦¿ ë©”ì†Œë“œ - ì•Œê³ ë¦¬ì¦˜ì˜ ê³¨ê²©ì„ ì •ì˜
    public final void processData() {
        System.out.println("=== ë°ì´í„° ì²˜ë¦¬ ì‹œì‘ ===");
        
        // 1. ë°ì´í„° ë¡œë“œ
        List<String> rawData = loadData();
        System.out.println("ë¡œë“œëœ ë°ì´í„°: " + rawData);
        
        // 2. ë°ì´í„° ê²€ì¦
        if (!validateData(rawData)) {
            System.out.println("âŒ ë°ì´í„° ê²€ì¦ ì‹¤íŒ¨");
            return;
        }
        
        // 3. ë°ì´í„° ë³€í™˜
        List<String> transformedData = transformData(rawData);
        System.out.println("ë³€í™˜ëœ ë°ì´í„°: " + transformedData);
        
        // 4. ë°ì´í„° ì €ì¥
        saveData(transformedData);
        
        // 5. í›„ì²˜ë¦¬ (Hook ë©”ì†Œë“œ)
        if (shouldNotify()) {
            sendNotification();
        }
        
        System.out.println("=== ë°ì´í„° ì²˜ë¦¬ ì™„ë£Œ ===\n");
    }
    
    // ì¶”ìƒ ë©”ì†Œë“œë“¤ - í•˜ìœ„ í´ë˜ìŠ¤ì—ì„œ ë°˜ë“œì‹œ êµ¬í˜„
    protected abstract List<String> loadData();
    protected abstract List<String> transformData(List<String> data);
    protected abstract void saveData(List<String> data);
    
    // êµ¬ì²´ ë©”ì†Œë“œ - ê³µí†µ ë¡œì§
    protected boolean validateData(List<String> data) {
        if (data == null || data.isEmpty()) {
            return false;
        }
        
        for (String item : data) {
            if (item == null || item.trim().isEmpty()) {
                return false;
            }
        }
        return true;
    }
    
    // Hook ë©”ì†Œë“œë“¤ - ì„ íƒì ìœ¼ë¡œ ì˜¤ë²„ë¼ì´ë“œ ê°€ëŠ¥
    protected boolean shouldNotify() {
        return false; // ê¸°ë³¸ê°’: ì•Œë¦¼ ì•ˆí•¨
    }
    
    protected void sendNotification() {
        System.out.println("ğŸ“§ ì²˜ë¦¬ ì™„ë£Œ ì•Œë¦¼ ì „ì†¡");
    }
}

// êµ¬ì²´ í´ë˜ìŠ¤ 1 - CSV íŒŒì¼ ì²˜ë¦¬
class CsvDataProcessor extends DataProcessor {
    private String filePath;
    private String outputPath;
    
    public CsvDataProcessor(String filePath, String outputPath) {
        this.filePath = filePath;
        this.outputPath = outputPath;
    }
    
    @Override
    protected List<String> loadData() {
        System.out.println("CSV íŒŒì¼ì—ì„œ ë°ì´í„° ë¡œë“œ: " + filePath);
        return Arrays.asList("Name,Age,City", "ê¹€ì² ìˆ˜,30,ì„œìš¸", "ì´ì˜í¬,25,ë¶€ì‚°");
    }
    
    @Override
    protected List<String> transformData(List<String> data) {
        System.out.println("CSV ë°ì´í„°ë¥¼ JSON í˜•íƒœë¡œ ë³€í™˜");
        List<String> transformed = new ArrayList<>();
        
        if (data.size() > 1) {
            String[] headers = data.get(0).split(",");
            
            for (int i = 1; i < data.size(); i++) {
                String[] values = data.get(i).split(",");
                StringBuilder json = new StringBuilder("{");
                
                for (int j = 0; j < headers.length && j < values.length; j++) {
                    if (j > 0) json.append(", ");
                    json.append("\"").append(headers[j]).append("\": \"")
                        .append(values[j]).append("\"");
                }
                json.append("}");
                transformed.add(json.toString());
            }
        }
        
        return transformed;
    }
    
    @Override
    protected void saveData(List<String> data) {
        System.out.println("ë³€í™˜ëœ ë°ì´í„°ë¥¼ JSON íŒŒì¼ë¡œ ì €ì¥: " + outputPath);
        for (String item : data) {
            System.out.println("  " + item);
        }
    }
    
    @Override
    protected boolean shouldNotify() {
        return true; // CSV ì²˜ë¦¬ëŠ” í•­ìƒ ì•Œë¦¼
    }
}

// êµ¬ì²´ í´ë˜ìŠ¤ 2 - ë°ì´í„°ë² ì´ìŠ¤ ì²˜ë¦¬
class DatabaseProcessor extends DataProcessor {
    private String tableName;
    
    public DatabaseProcessor(String tableName) {
        this.tableName = tableName;
    }
    
    @Override
    protected List<String> loadData() {
        System.out.println("ë°ì´í„°ë² ì´ìŠ¤ í…Œì´ë¸”ì—ì„œ ë°ì´í„° ë¡œë“œ: " + tableName);
        return Arrays.asList("user1:admin:active", "user2:user:inactive", "user3:user:active");
    }
    
    @Override
    protected List<String> transformData(List<String> data) {
        System.out.println("ì‚¬ìš©ì ë°ì´í„° ì •ê·œí™” ë° í•„í„°ë§");
        List<String> transformed = new ArrayList<>();
        
        for (String item : data) {
            String[] parts = item.split(":");
            if (parts.length == 3 && "active".equals(parts[2])) {
                transformed.add(parts[0].toUpperCase() + " (" + parts[1] + ")");
            }
        }
        
        return transformed;
    }
    
    @Override
    protected void saveData(List<String> data) {
        System.out.println("ì •ê·œí™”ëœ ë°ì´í„°ë¥¼ ìºì‹œì— ì €ì¥");
        for (String item : data) {
            System.out.println("  ìºì‹œ ì €ì¥: " + item);
        }
    }
}

// í´ë¼ì´ì–¸íŠ¸ ì½”ë“œ
public class TemplateMethodExample {
    public static void main(String[] args) {
        DataProcessor csvProcessor = new CsvDataProcessor("users.csv", "users.json");
        DataProcessor dbProcessor = new DatabaseProcessor("users");
        
        // ë™ì¼í•œ ì¸í„°í˜ì´ìŠ¤ë¡œ ë‹¤ì–‘í•œ ë°ì´í„° ì²˜ë¦¬
        csvProcessor.processData();
        dbProcessor.processData();
    }
}
```

### 2. ê²Œì„ ìºë¦­í„° ì˜ˆì‹œ
```java
// ì¶”ìƒ ê²Œì„ ìºë¦­í„° í´ë˜ìŠ¤
abstract class GameCharacter {
    protected String name;
    protected int health;
    protected int mana;
    
    public GameCharacter(String name) {
        this.name = name;
        this.health = 100;
        this.mana = 50;
    }
    
    // í…œí”Œë¦¿ ë©”ì†Œë“œ - ì „íˆ¬ ì‹œí€€ìŠ¤
    public final void performBattle(GameCharacter enemy) {
        System.out.println("=== " + name + " vs " + enemy.name + " ì „íˆ¬ ì‹œì‘ ===");
        
        // 1. ì „íˆ¬ ì¤€ë¹„
        prepareBattle();
        
        // 2. ìŠ¤í‚¬ ì‚¬ìš© ê°€ëŠ¥ í™•ì¸
        if (canUseSkill()) {
            useSkill(enemy);
        }
        
        // 3. ê¸°ë³¸ ê³µê²©
        performAttack(enemy);
        
        // 4. ë°©ì–´ í–‰ë™
        performDefense();
        
        // 5. ì „íˆ¬ í›„ ì²˜ë¦¬
        afterBattle();
        
        System.out.println("=== ì „íˆ¬ ì¢…ë£Œ ===\n");
    }
    
    // ì¶”ìƒ ë©”ì†Œë“œë“¤
    protected abstract void useSkill(GameCharacter enemy);
    protected abstract void performAttack(GameCharacter enemy);
    
    // êµ¬ì²´ ë©”ì†Œë“œë“¤ (ê³µí†µ ë¡œì§)
    protected void prepareBattle() {
        System.out.println(name + "ì´(ê°€) ì „íˆ¬ ì¤€ë¹„ë¥¼ í•©ë‹ˆë‹¤.");
    }
    
    protected void performDefense() {
        System.out.println(name + "ì´(ê°€) ë°©ì–´ ìì„¸ë¥¼ ì·¨í•©ë‹ˆë‹¤.");
    }
    
    protected void afterBattle() {
        System.out.println(name + "ì˜ ì²´ë ¥: " + health + ", ë§ˆë‚˜: " + mana);
    }
    
    // Hook ë©”ì†Œë“œë“¤
    protected boolean canUseSkill() {
        return mana >= 20; // ê¸°ë³¸ì ìœ¼ë¡œ ë§ˆë‚˜ 20 ì´ìƒì¼ ë•Œ ìŠ¤í‚¬ ì‚¬ìš© ê°€ëŠ¥
    }
    
    public void takeDamage(int damage) {
        health = Math.max(0, health - damage);
        System.out.println(name + "ì´(ê°€) " + damage + " ë°ë¯¸ì§€ë¥¼ ë°›ì•˜ìŠµë‹ˆë‹¤. (ì²´ë ¥: " + health + ")");
    }
    
    public void consumeMana(int amount) {
        mana = Math.max(0, mana - amount);
    }
}

// ì „ì‚¬ í´ë˜ìŠ¤
class Warrior extends GameCharacter {
    private int rage;
    
    public Warrior(String name) {
        super(name);
        this.rage = 0;
    }
    
    @Override
    protected void useSkill(GameCharacter enemy) {
        System.out.println(name + "ì´(ê°€) 'ê°•íƒ€' ìŠ¤í‚¬ì„ ì‚¬ìš©í•©ë‹ˆë‹¤!");
        enemy.takeDamage(35);
        consumeMana(20);
        rage += 5;
    }
    
    @Override
    protected void performAttack(GameCharacter enemy) {
        int damage = 20 + (rage / 5); // ë¶„ë…¸ì— ë”°ë¼ ë°ë¯¸ì§€ ì¦ê°€
        System.out.println(name + "ì´(ê°€) ê¸°ë³¸ ê³µê²©ì„ í•©ë‹ˆë‹¤! (" + damage + " ë°ë¯¸ì§€)");
        enemy.takeDamage(damage);
    }
}

// ë§ˆë²•ì‚¬ í´ë˜ìŠ¤
class Wizard extends GameCharacter {
    
    public Wizard(String name) {
        super(name);
        this.mana = 80; // ë§ˆë²•ì‚¬ëŠ” ë§ˆë‚˜ê°€ ë” ë§ìŒ
    }
    
    @Override
    protected void useSkill(GameCharacter enemy) {
        System.out.println(name + "ì´(ê°€) 'íŒŒì´ì–´ë³¼' ë§ˆë²•ì„ ì‹œì „í•©ë‹ˆë‹¤!");
        enemy.takeDamage(40);
        consumeMana(25);
    }
    
    @Override
    protected void performAttack(GameCharacter enemy) {
        System.out.println(name + "ì´(ê°€) ë§ˆë²• ë¯¸ì‚¬ì¼ì„ ë°œì‚¬í•©ë‹ˆë‹¤!");
        enemy.takeDamage(15);
        consumeMana(5);
    }
}

// í´ë¼ì´ì–¸íŠ¸ ì½”ë“œ
public class GameTemplateMethodExample {
    public static void main(String[] args) {
        GameCharacter warrior = new Warrior("ìš©ê°í•œ ì•„ì„œ");
        GameCharacter wizard = new Wizard("í˜„ëª…í•œ ê°„ë‹¬í”„");
        
        // ë”ë¯¸ ì  ìºë¦­í„°
        GameCharacter dummy = new Warrior("í›ˆë ¨ìš© ë”ë¯¸") {
            @Override
            protected void useSkill(GameCharacter enemy) {
                // ë”ë¯¸ëŠ” ìŠ¤í‚¬ì„ ì‚¬ìš©í•˜ì§€ ì•ŠìŒ
            }
            
            @Override
            protected void performAttack(GameCharacter enemy) {
                // ë”ë¯¸ëŠ” ê³µê²©í•˜ì§€ ì•ŠìŒ
            }
        };
        
        // ê° ìºë¦­í„°ì˜ ì „íˆ¬ ì‹¤í–‰
        warrior.performBattle(dummy);
        wizard.performBattle(dummy);
    }
}
```

## Springì—ì„œì˜ í™œìš©
ìŠ¤í”„ë§ì—ì„œëŠ” í…œí”Œë¦¿ ë©”ì†Œë“œ íŒ¨í„´ì´ ì—¬ëŸ¬ ê³³ì—ì„œ ì‚¬ìš©ë©ë‹ˆë‹¤:

```java
// 1. JdbcTemplate - í…œí”Œë¦¿ ë©”ì†Œë“œ íŒ¨í„´ì˜ ëŒ€í‘œì ì¸ ì˜ˆ
@Repository
public class UserRepository {
    
    @Autowired
    private JdbcTemplate jdbcTemplate;
    
    public List<User> findUsers() {
        return jdbcTemplate.query(
            "SELECT * FROM users",
            (rs, rowNum) -> new User(
                rs.getLong("id"),
                rs.getString("name"),
                rs.getString("email")
            )
        );
    }
}

// 2. ì¶”ìƒ ì»¨íŠ¸ë¡¤ëŸ¬ í´ë˜ìŠ¤ ë§Œë“¤ê¸°
@RestController
public abstract class BaseController<T, ID> {
    
    protected abstract Service<T, ID> getService();
    protected abstract String getEntityName();
    
    @GetMapping
    public ResponseEntity<List<T>> findAll() {
        logRequest("findAll");
        List<T> entities = getService().findAll();
        logResponse("findAll", entities.size());
        return ResponseEntity.ok(entities);
    }
    
    @PostMapping
    public ResponseEntity<T> create(@RequestBody T entity) {
        logRequest("create");
        validateEntity(entity);
        T saved = getService().save(entity);
        logResponse("create", "success");
        return ResponseEntity.status(HttpStatus.CREATED).body(saved);
    }
    
    // Hook ë©”ì†Œë“œë“¤
    protected void validateEntity(T entity) {
        // ê¸°ë³¸ ê²€ì¦ ë¡œì§ (ì˜¤ë²„ë¼ì´ë“œ ê°€ëŠ¥)
    }
    
    protected void logRequest(String operation, Object... params) {
        System.out.printf("[%s] %s ìš”ì²­: %s\n", 
                         getEntityName(), operation, Arrays.toString(params));
    }
    
    protected void logResponse(String operation, Object result) {
        System.out.printf("[%s] %s ì‘ë‹µ: %s\n", 
                         getEntityName(), operation, result);
    }
}

// êµ¬ì²´ì ì¸ ì»¨íŠ¸ë¡¤ëŸ¬ êµ¬í˜„
@RestController
@RequestMapping("/users")
public class UserController extends BaseController<User, Long> {
    
    @Autowired
    private UserService userService;
    
    @Override
    protected UserService getService() {
        return userService;
    }
    
    @Override
    protected String getEntityName() {
        return "User";
    }
    
    @Override
    protected void validateEntity(User user) {
        if (user.getEmail() == null || !user.getEmail().contains("@")) {
            throw new IllegalArgumentException("ìœ íš¨í•˜ì§€ ì•Šì€ ì´ë©”ì¼ ì£¼ì†Œì…ë‹ˆë‹¤.");
        }
    }
}
```

í…œí”Œë¦¿ ë©”ì†Œë“œ íŒ¨í„´ì€ íŠ¹íˆ í”„ë ˆì„ì›Œí¬ë‚˜ ë¼ì´ë¸ŒëŸ¬ë¦¬ì—ì„œ í™•ì¥ í¬ì¸íŠ¸ë¥¼ ì œê³µí•  ë•Œ ë§¤ìš° ìœ ìš©í•˜ë©°, ìŠ¤í”„ë§ì—ì„œë„ ì´ íŒ¨í„´ì„ í†µí•´ ê°œë°œìê°€ íŠ¹ì • ë¶€ë¶„ë§Œ êµ¬í˜„í•˜ê³  ë‚˜ë¨¸ì§€ëŠ” í”„ë ˆì„ì›Œí¬ê°€ ì²˜ë¦¬í•˜ë„ë¡ í•˜ëŠ” êµ¬ì¡°ë¥¼ ë§ì´ ì‚¬ìš©í•©ë‹ˆë‹¤.
